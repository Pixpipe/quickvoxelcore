<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [VolumeCollection][1]
    -   [\_addToCollection][2]
    -   [\_callEvent][3]
    -   [\_generateID][4]
    -   [addVolumeFromUrl][5]
    -   [getVolume][6]
    -   [getVolume][7]
    -   [getVolumeIds][8]
    -   [on][9]
    -   [removeVolume][10]
-   [Volume][11]
    -   [\_computeV2Tmatrices][12]
    -   [buildTexture][13]
    -   [getAvaialableMatrices][14]
    -   [getId][15]
    -   [getImage3D][16]
    -   [getMatrix][17]
    -   [getTexture3D][18]
    -   [getTimeLength][19]
-   [QuickvoxelCore][20]
    -   [\_initEvents][21]
    -   [getRenderEngine][22]
    -   [getVolumeCollection][23]
    -   [mountVolumeOnSlotN][24]
    -   [unmountVolumeFromSlotN][25]
    -   [unmountVolumeWithId][26]
-   [RenderEngine][27]
    -   [\_initFakeTexture][28]
    -   [\_initMainCamera][29]
    -   [\_initOrthoPlaneSystem][30]
    -   [getNumberOfVolumeSlots][31]
    -   [getScene][32]
    -   [getSlotIndexFromVolumeId][33]
    -   [isSlotTakenN][34]
    -   [mountVolumeN][35]
    -   [mountVolumeOnFirstEmptySlot][36]
    -   [resetPlaneSystem][37]
    -   [setBlendMethod][38]
    -   [setCameraPosition][39]
    -   [unmountVolumeN][40]
    -   [updatePlaneSystemPosition][41]
    -   [updatePlaneSystemRotation][42]

## VolumeCollection

A instance of VolumeCollection manages and identifies Volume instances

### \_addToCollection

Add a new volume to the collection.
Once the volume is added to the collection, the even "volumeAdded" is called with the volume in argument

**Parameters**

-   `volume` **[Volume][43]** a volumetric object

### \_callEvent

Call an event by invoking its name and providing some arguments.
This methods should be used internally rather than using wild calls.

**Parameters**

-   `eventName` **[String][44]** the name of the event, must exist in this.\_events (with the value null)
-   `args` **[Array][45]** array of arguments, to be spread when callback is called (optional, default `[]`)

### \_generateID

Find a non existing name by appending an index to the filename

**Parameters**

-   `filename` **\[type]** [description]

Returns **\[type]** [description]

### addVolumeFromUrl

Add a volume file to the collection, using an URL

**Parameters**

-   `url` **[String][44]** url of the file

### getVolume

[getVolume description]

**Parameters**

-   `id` **\[type]** [description]

Returns **\[type]** [description]

### getVolume

Get the volume of the given id

**Parameters**

-   `id` **[String][44]** unique id of the volume within the collection

Returns **([Volume][43] | null)** the volume if existing, or null if not existing

### getVolumeIds

Get the list of all volume ids available in this collection

Returns **\[type]** [description]

### on

Define the callback attached to an event

**Parameters**

-   `eventName` **[String][44]** the name of the event, must exist in this.\_events (with the value null)
-   `callback` **[Function][46]** the function associated to this event

### removeVolume

Remove a volume fron the collection. If succesful, the event "volumeRemoved" is called
with the id of the volume in argument

**Parameters**

-   `id` **[String][44]** id of the volume to remove

## Volume

[Volume description]

**Parameters**

-   `id`  
-   `image3D`  

### \_computeV2Tmatrices

Compute the affine transformation matrix to go from world coord to unit texture

### buildTexture

Build the texture corresponding to this volume. This requires a scene instance

**Parameters**

-   `bjsScene` **\[type]** [description]

Returns **\[type]** [description]

### getAvaialableMatrices

Get a list of all available matrices for this volume, as strings

Returns **[Array][45]** 

### getId

Get the id of this volume

Returns **[String][44]** the id

### getImage3D

Get the Pixpipe Image3DAlt object

Returns **pixpipe.Image3DAlt** The volume data as loaded by Pixpipe

### getMatrix

Get the transformation matrix with the given name

**Parameters**

-   `name` **[String][44]** name of the transform (most likely "v2t" or "v2t_center")

Returns **BABYLON.Matrix** the matrix

### getTexture3D

get the babylonjs texture3d object

Returns **BABYLON.RawTexture3D** the texture corresponding to this volume

### getTimeLength

Get the number of time samples. fMRI (or diffusion) will have more than one
while structural MRI will usually have only one.

Returns **[Number][47]** 

## QuickvoxelCore

[QuickvoxelCore description]

**Parameters**

-   `canvasElem`  

### \_initEvents

Initialize events

### getRenderEngine

Get the rendering engine to perform some 3D tasks, such as interacting with the view

Returns **\[type]** [description]

### getVolumeCollection

Get the volume collection, to access to some features such as adding a volume

Returns **\[type]** [description]

### mountVolumeOnSlotN

Mount the volume of the given id on the slot with the given index on the rendering engine

**Parameters**

-   `n` **[Number][47]** the slot index
-   `volumeId` **[String][44]** the id of the volume within the collection

### unmountVolumeFromSlotN

Unmount the volume from the slot n in the rendering engine.
Note: this method is jsut a call to the rendering engine, since the volume
itself is not needed to be unmounted.

**Parameters**

-   `n` **\[type]** [description]

Returns **\[type]** [description]

### unmountVolumeWithId

[unmountVolumeWIthId description]

**Parameters**

-   `id` **\[type]** [description]

Returns **\[type]** [description]

## RenderEngine

[RenderEngine description]

**Parameters**

-   `canvasElem` **DomElement** a DOM object of a canvas

### \_initFakeTexture

Initialize the texture data relative to a single texture

**Parameters**

-   `n` **[Number][47]** 0 for primary, 1 for secondary
-   `shaderMaterial` **BABYLON.ShaderMaterial** the shader material to update

### \_initMainCamera

Initialize the default (main) camera. The main camera is a regular perspective cemera (aka. not ortho)

### \_initOrthoPlaneSystem

Design a plane system composed of 3 orthogonal planes, each of them being 1000x1000

Returns **\[type]** [description]

### getNumberOfVolumeSlots

Get the total number of volume slot in the reder engine (taken of not)

Returns **[Number][47]** 

### getScene

Get the babylonjs scene object, because it's necessary to build textures in Volume

Returns **BABYLON.Scene** the scene

### getSlotIndexFromVolumeId

Look if the volume with the given id is mounted in a slot

**Parameters**

-   `id` **[String][44]** id of the volume to look for

Returns **[Number][47]** index of the slot where the volume is mounted, or -1 if not mounted

### isSlotTakenN

Get if the Nth volume slot is already taken or not.

**Parameters**

-   `n` **[Number][47]** index of the slot

Returns **[Boolean][48]** true if already taken (or out of range), false if free

### mountVolumeN

Mount a volume on the redering engine. This means the 3D texture attached to
the given volume will be shown

**Parameters**

-   `n` **[Number][47]** the index of the slot to mount the volume on (most likely 0 or 1)
-   `volume` **[Volume][43]** the volume to mount

### mountVolumeOnFirstEmptySlot

Mounts a volume in the first slot available. Will do nothing if no slot is free.

**Parameters**

-   `volume` **[Volume][43]** the volume to mount

Returns **[Boolean][48]** true if found an ampty slot to mount, false if could not mount it

### resetPlaneSystem

Reset the position and rotation of the \_planeSystem

### setBlendMethod

Change the blending method. Note that this matters only when 2 textures are displayed

**Parameters**

-   `m` **[Number][47]** method of blending

### setCameraPosition

Set the position of a given camera, by its id

**Parameters**

-   `cameraId` **[String][44]** the id of the camera
-   `position` **[Object][49]** ={x:100, y:100, z:100} - position of the camera (optional, default `{x:100,y:100,z:100}`)

### unmountVolumeN

Unmount the volume that is suposedly mounted on the slot N. this means the
texture attached to the volume on slot N will no longer be visible.

**Parameters**

-   `n` **\[type]** [description]

### updatePlaneSystemPosition

Update the position of the center of the \_planeSystem in world coordinates.
Not each position property have to be updated.

**Parameters**

-   `position` **[Object][49]** The new position (optional, default `{x:null,y:null,z:null}`)

### updatePlaneSystemRotation

Update the rotation of the \_planeSystem in world coordinates, around its center.

**Parameters**

-   `rotation` **[Object][49]** [description] (optional, default `{x:null`)
-   `y` **\[type]** [description]
-   `z` **\[type]** [description]

Returns **\[type]** [description]

[1]: #volumecollection

[2]: #_addtocollection

[3]: #_callevent

[4]: #_generateid

[5]: #addvolumefromurl

[6]: #getvolume

[7]: #getvolume-1

[8]: #getvolumeids

[9]: #on

[10]: #removevolume

[11]: #volume

[12]: #_computev2tmatrices

[13]: #buildtexture

[14]: #getavaialablematrices

[15]: #getid

[16]: #getimage3d

[17]: #getmatrix

[18]: #gettexture3d

[19]: #gettimelength

[20]: #quickvoxelcore

[21]: #_initevents

[22]: #getrenderengine

[23]: #getvolumecollection

[24]: #mountvolumeonslotn

[25]: #unmountvolumefromslotn

[26]: #unmountvolumewithid

[27]: #renderengine

[28]: #_initfaketexture

[29]: #_initmaincamera

[30]: #_initorthoplanesystem

[31]: #getnumberofvolumeslots

[32]: #getscene

[33]: #getslotindexfromvolumeid

[34]: #isslottakenn

[35]: #mountvolumen

[36]: #mountvolumeonfirstemptyslot

[37]: #resetplanesystem

[38]: #setblendmethod

[39]: #setcameraposition

[40]: #unmountvolumen

[41]: #updateplanesystemposition

[42]: #updateplanesystemrotation

[43]: #volume

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[46]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[47]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[49]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
